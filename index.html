<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="Find strength, calm & balance ‚Äî in-person & online yoga classes, teacher training, and retreats">
    <title>YogArouse-FlowWithSagar</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
      /* Inline styles for Ratings & Reviews (scoped to page) */
      /* You can move these rules into styles.css if you prefer */
      .reviews-section {
          padding: 4rem 0;
          background: #faf8ff;
      }
      .reviews-container {
          max-width: 1000px;
          margin: 0 auto;
          display: grid;
          grid-template-columns: 1fr 420px;
          gap: 2rem;
      }
      .reviews-card {
          background: #fff;
          padding: 1.75rem;
          border-radius: 12px;
          box-shadow: 0 8px 22px rgba(0,0,0,0.06);
      }
      .reviews-form h3,
      .reviews-list h3 {
          margin-bottom: 0.75rem;
          font-family: 'Playfair Display', serif;
          color: #ff006e;
      }
      .star-inputs {
          display: flex;
          gap: 6px;
          align-items: center;
          margin-bottom: 0.75rem;
      }
      .star {
          font-size: 1.6rem;
          cursor: pointer;
          transition: transform .12s ease;
          color: #d1d5db; /* default gray */
          user-select: none;
      }
      .star.active {
          color: #ffb703; /* gold */
          transform: scale(1.06);
      }
      .reviews-form textarea {
          width: 100%;
          min-height: 90px;
          padding: 0.8rem;
          border-radius: 8px;
          border: 1px solid #e6e6e6;
          font-family: inherit;
          resize: vertical;
          margin-bottom: 0.75rem;
      }
      .reviews-form input[type="text"] {
          width: 100%;
          padding: 0.6rem;
          border-radius: 8px;
          border: 1px solid #e6e6e6;
          margin-bottom: 0.75rem;
      }
      .reviews-form .btn {
          display: inline-block;
          padding: 0.7rem 1.25rem;
          border-radius: 10px;
          border: none;
          cursor: pointer;
      }
      .btn-submit-review {
          background: var(--primary-color);
          color: white;
      }
      .reviews-summary {
          text-align: center;
          padding: 1.25rem;
          border-radius: 12px;
          background: linear-gradient(180deg, rgba(255,0,110,0.06), rgba(255,107,157,0.03));
          box-shadow: 0 6px 18px rgba(255,0,110,0.06);
      }
      .reviews-summary .avg-rating {
          font-size: 2.25rem;
          font-weight: 700;
          color: var(--primary-color);
      }
      .reviews-summary .avg-stars {
          font-size: 1.1rem;
          margin-top: 0.35rem;
      }
      .reviews-list {
          max-height: 420px;
          overflow-y: auto;
          padding-right: 4px;
      }
      .review-item {
          display: flex;
          gap: 0.75rem;
          padding: 0.85rem;
          border-radius: 10px;
          margin-bottom: 0.75rem;
          background: white;
          border: 1px solid #f0f0f0;
          align-items: start;
      }
      .review-avatar {
          width:48px;
          height:48px;
          border-radius:50%;
          background: linear-gradient(135deg,#667eea,#f093fb);
          display:flex;
          align-items:center;
          justify-content:center;
          color:#fff;
          font-weight:700;
          flex-shrink:0;
      }
      .review-body {
          flex:1;
      }
      .review-meta {
          display:flex;
          justify-content:space-between;
          align-items:center;
          gap:0.5rem;
          margin-bottom:0.25rem;
      }
      .review-name {
          font-weight:700;
          color:var(--text-dark);
      }
      .review-stars {
          color: #ffb703;
      }
      .delete-review {
          background: transparent;
          border: none;
          color: #dc3545;
          cursor: pointer;
          font-size: 0.92rem;
      }

      /* Responsive */
      @media (max-width: 980px) {
          .reviews-container {
              grid-template-columns: 1fr;
          }
      }
    </style>
</head>
<body>
    <!-- Header Navigation -->
    <header class="header">
        <nav class="navbar">
            <div class="container">
                <div class="nav-wrapper">
                    <a href="index.html" class="logo">
                        <span class="logo-emoji">üßò</span>
                        <span class="logo-text">
                            <span class="logo-letter">Y</span>
                            <span class="logo-letter">o</span>
                            <span class="logo-letter">g</span>
                            <span class="logo-letter">A</span>
                            <span class="logo-letter">r</span>
                            <span class="logo-letter">o</span>
                            <span class="logo-letter">u</span>
                            <span class="logo-letter">s</span>
                            <span class="logo-letter">e</span>
                        </span>
                    </a>
                    <button class="mobile-menu-toggle" aria-label="Toggle menu">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                    <ul class="nav-menu">
                        <li><a href="index.html" class="active">Home</a></li>
                        <li><a href="about.html">About</a></li>
                        <li><a href="classes.html">Yoga Classes</a></li>
                        <li><a href="teacher-training.html">Teacher Training</a></li>
                        <li><a href="retreats.html">Retreats & Workshops</a></li>
                        <li><a href="gallery-blog.html">Gallery & Blog</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-overlay"></div>
        <div class="hero-content">
            <div class="container">
                <h1 class="hero-title" aria-label="Find strength, calm & balance ‚Äî in-person & online yoga">
                    <span class="hero-text-line">
                        <span class="logo-letter">F</span>
                        <span class="logo-letter">i</span>
                        <span class="logo-letter">n</span>
                        <span class="logo-letter">d</span>
                        <span class="logo-letter">&nbsp;</span>
                        <span class="logo-letter">s</span>
                        <span class="logo-letter">t</span>
                        <span class="logo-letter">r</span>
                        <span class="logo-letter">e</span>
                        <span class="logo-letter">n</span>
                        <span class="logo-letter">g</span>
                        <span class="logo-letter">t</span>
                        <span class="logo-letter">h</span>
                        <span class="logo-letter">,</span>
                        <span class="logo-letter">&nbsp;</span>
                        <span class="logo-letter">c</span>
                        <span class="logo-letter">a</span>
                        <span class="logo-letter">l</span>
                        <span class="logo-letter">m</span>
                        <span class="logo-letter">&nbsp;</span>
                        <span class="logo-letter">&</span>
                        <span class="logo-letter">&nbsp;</span>
                        <span class="logo-letter">b</span>
                        <span class="logo-letter">a</span>
                        <span class="logo-letter">l</span>
                        <span class="logo-letter">a</span>
                        <span class="logo-letter">n</span>
                        <span class="logo-letter">c</span>
                        <span class="logo-letter">e</span>
                    </span>
                    <span class="hero-text-line">
                        <span class="logo-letter">‚Äî</span>
                        <span class="logo-letter">&nbsp;</span>
                        <span class="logo-letter">i</span>
                        <span class="logo-letter">n</span>
                        <span class="logo-letter">-</span>
                        <span class="logo-letter">p</span>
                        <span class="logo-letter">e</span>
                        <span class="logo-letter">r</span>
                        <span class="logo-letter">s</span>
                        <span class="logo-letter">o</span>
                        <span class="logo-letter">n</span>
                        <span class="logo-letter">&nbsp;</span>
                        <span class="logo-letter">&</span>
                        <span class="logo-letter">&nbsp;</span>
                        <span class="logo-letter">o</span>
                        <span class="logo-letter">n</span>
                        <span class="logo-letter">l</span>
                        <span class="logo-letter">i</span>
                        <span class="logo-letter">n</span>
                        <span class="logo-letter">e</span>
                        <span class="logo-letter">&nbsp;</span>
                        <span class="logo-letter">y</span>
                        <span class="logo-letter">o</span>
                        <span class="logo-letter">g</span>
                        <span class="logo-letter">a</span>
                    </span>
                </h1>
                <p class="hero-subtitle">Transform your body and mind through mindful practice in our welcoming studio community</p>
                <div class="hero-cta">
                    <a href="enroll.html" class="btn btn-primary">Enroll Now</a>
                    <a href="classes.html" class="btn btn-secondary">View Class Schedule</a>
                </div>
            </div>
        </div>
        <div class="hero-image"></div>
    </section>

    <!-- Social Proof & Experience Badge -->
    <section class="social-proof-banner">
        <div class="container">
            <div class="proof-content">
                <div class="proof-badge">
                    <div class="badge-icon">‚≠ê</div>
                    <div class="badge-text">
                        <div class="badge-number">8+ Years</div>
                        <div class="badge-label">Experience with Sagar Khanduri</div>
                    </div>
                </div>
                <div class="proof-stats">
                    <div class="stat-item">
                        <div class="stat-number">5,000+</div>
                        <div class="stat-label">Happy Students</div>
                    </div>
                    <div class="stat-divider"></div>
                    <div class="stat-item">
                        <a href="https://maps.app.goo.gl/FVgTjDLqxCCqZchR7?g_st=aw" target="_blank" rel="noopener noreferrer" class="rating-link" data-tooltip="Click to verify">
                            <div class="stat-number">5.0 <span class="rating-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span></div>
                        </a>
                        <div class="stat-label">Average Rating from Google Maps</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Quick Navigation Tiles -->
    <section class="quick-nav">
        <div class="container">
            <div class="nav-tiles">
                <a href="classes.html" class="nav-tile">
                    <div class="tile-icon">üßò‚Äç‚ôÄÔ∏è</div>
                    <h3>Classes</h3>
                    <p>Explore our class types & weekly schedule</p>
                </a>
                <a href="teacher-training.html" class="nav-tile">
                    <div class="tile-icon">üéì</div>
                    <h3>Teacher Training</h3>
                    <p>200-hour certification course</p>
                </a>
                <a href="retreats.html" class="nav-tile">
                    <div class="tile-icon">üèùÔ∏è</div>
                    <h3>Retreats</h3>
                    <p>Immersive wellbeing retreats</p>
                </a>
                <a href="gallery-blog.html" class="nav-tile">
                    <div class="tile-icon">üì∑</div>
                    <h3>Gallery & Blog</h3>
                    <p>Studio moments & wellness tips</p>
                </a>
            </div>
        </div>
    </section>

    <!-- Featured Programs -->
    <section class="featured-programs">
        <div class="container">
            <h2 class="section-title">Featured Programs</h2>
            <div class="programs-grid">
                <div class="program-card">
                    <div class="program-image" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);"></div>
                    <div class="program-content">
                        <h3>200-Hour Teacher Training</h3>
                        <p>Transform your practice into a teaching career. Comprehensive certification program starting February.</p>
                        <a href="teacher-training.html" class="btn-link">Learn More ‚Üí</a>
                    </div>
                </div>
                <div class="program-card">
                    <div class="program-image" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);"></div>
                    <div class="program-content">
                        <h3>Bali Wellness Retreat</h3>
                        <p>7-day immersive retreat combining yoga, meditation, and cultural exploration. March 2024.</p>
                        <a href="retreats.html" class="btn-link">Learn More ‚Üí</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ===== Ratings & Reviews Section (added) ===== -->
    <section class="reviews-section" id="reviews">
        <div class="container">
            <h2 class="section-title">Ratings & Reviews</h2>
            <div class="reviews-container">
                <!-- Left: Form + Recent Reviews -->
                <div>
                    <div class="reviews-card reviews-form">
                        <h3>Leave a review</h3>
                        <div class="star-inputs" id="starInputs" aria-label="Star rating">
                            <span class="star" data-value="1" role="button" aria-label="1 star">‚òÜ</span>
                            <span class="star" data-value="2" role="button" aria-label="2 stars">‚òÜ</span>
                            <span class="star" data-value="3" role="button" aria-label="3 stars">‚òÜ</span>
                            <span class="star" data-value="4" role="button" aria-label="4 stars">‚òÜ</span>
                            <span class="star" data-value="5" role="button" aria-label="5 stars">‚òÜ</span>
                            <div style="margin-left:auto; color:var(--text-light); font-size:0.95rem;" id="selectedRatingText">No rating</div>
                        </div>
                        <input type="text" id="reviewerName" placeholder="Your name (optional)">
                        <textarea id="reviewText" placeholder="Share a short review..."></textarea>
                        <div style="display:flex; gap:0.5rem; align-items:center;">
                            <button class="btn btn-primary btn-submit-review" id="submitReviewBtn">Submit Review</button>
                            <button class="btn" id="clearFormBtn" type="button">Clear</button>
                        </div>
                    </div>

                    <div style="height:1rem"></div>

                    <div class="reviews-card">
                        <h3>Recent Reviews</h3>
                        <div class="reviews-list" id="reviewsList" aria-live="polite">
                            <!-- reviews inserted here -->
                        </div>
                    </div>
                </div>

                <!-- Right: Average rating summary -->
                <aside>
                    <div class="reviews-card reviews-summary">
                        <div style="font-size:0.95rem; color:var(--text-light)">Community Rating</div>
                        <div class="avg-rating" id="avgRating">0.0</div>
                        <div class="avg-stars" id="avgStars">No ratings yet</div>
                        <div style="margin-top:0.75rem; color:var(--text-light);" id="totalReviews">0 reviews</div>
                    </div>
                    <div style="height:1rem"></div>
                    <div class="reviews-card">
                        <h3>How ratings work</h3>
                        <p style="color:var(--text-light); line-height:1.5; font-size:0.95rem;">Your rating helps others find the right class. Reviews are kept on this site (stored locally). If you'd like reviews synced across devices, I can help connect a backend or integrate with a service (e.g., Firebase).</p>
                    </div>
                </aside>
            </div>
        </div>
    </section>

    <!-- Footer (kept same as original) -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-col">
                    <h4>YogArouse</h4>
                    <p>Find your inner balance through mindful yoga practice</p>
                    <div class="social-links">
                        <a href="https://www.facebook.com/sagar.khanduri.71/" target="_blank" rel="noopener noreferrer" class="footer-social-icon facebook-icon" aria-label="Facebook">üìò</a>
                        <a href="https://www.instagram.com/india_yoga_ashram/" target="_blank" rel="noopener noreferrer" class="footer-social-icon instagram-icon" aria-label="Instagram">üì∑</a>
                        <a href="https://www.youtube.com/channel/UCQN050udtd-QLZgFUryu87A" target="_blank" rel="noopener noreferrer" class="footer-social-icon youtube-icon" aria-label="YouTube">üì∫</a>
                    </div>
                </div>
                <div class="footer-col">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="classes.html">Classes</a></li>
                        <li><a href="teacher-training.html">Teacher Training</a></li>
                        <li><a href="retreats.html">Retreats</a></li>
                        <li><a href="gallery-blog.html">Blog</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Resources</h4>
                    <ul>
                        <li><a href="#faq">FAQ</a></li>
                        <li><a href="#testimonials">Testimonials</a></li>
                        <li><a href="#privacy">Privacy</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Contact</h4>
                    <ul>
                        <li>üìç Rishikesh, India</li>
                        <li>üìû +91 9897420501</li>
                        <li>‚úâÔ∏è sagar@flowwithsagar.com</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 YogArouse. All rights reserved.</p>
                <div class="footer-links">
                    <a href="#terms">Terms</a>
                    <a href="#privacy">Privacy</a>
                    <a href="#health-policy">Health Policy</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Floating WhatsApp Button -->
    <a href="https://wa.me/919897420501" target="_blank" rel="noopener noreferrer" class="whatsapp-float" aria-label="Contact us on WhatsApp">
        <span class="whatsapp-icon">üí¨</span>
    </a>

    <!-- Main script (keeps original script.js for site behaviour) -->
    <script src="script.js"></script>

    <!-- Inline script to support Ratings & Reviews -->
    <script>
      (function(){
        // Element refs
        const stars = Array.from(document.querySelectorAll('#starInputs .star'));
        const selectedRatingText = document.getElementById('selectedRatingText');
        const submitBtn = document.getElementById('submitReviewBtn');
        const clearBtn = document.getElementById('clearFormBtn');
        const reviewText = document.getElementById('reviewText');
        const reviewerName = document.getElementById('reviewerName');
        const reviewsList = document.getElementById('reviewsList');
        const avgRatingEl = document.getElementById('avgRating');
        const avgStarsEl = document.getElementById('avgStars');
        const totalReviewsEl = document.getElementById('totalReviews');

        const STORAGE_KEY = 'yogarouse_reviews_v1';

        let selectedRating = 0;
        let reviews = [];

        // Utility: load from localStorage
        function loadReviews() {
          try {
            const raw = localStorage.getItem(STORAGE_KEY);
            reviews = raw ? JSON.parse(raw) : [];
          } catch(e) {
            console.error('Failed reading reviews from storage', e);
            reviews = [];
          }
        }

        // Utility: save to localStorage
        function saveReviews() {
          try {
            localStorage.setItem(STORAGE_KEY, JSON.stringify(reviews));
          } catch(e) {
            console.error('Failed saving reviews to storage', e);
          }
        }

        // Render stars active state in the rating input
        function renderStarInput() {
          stars.forEach(s => {
            const v = +s.dataset.value;
            s.textContent = (v <= selectedRating) ? '‚òÖ' : '‚òÜ';
            s.classList.toggle('active', v <= selectedRating);
          });
          selectedRatingText.textContent = selectedRating ? (selectedRating + ' star' + (selectedRating>1?'s':'')) : 'No rating';
        }

        // Compute and render summary (avg)
        function renderSummary() {
          if (reviews.length === 0) {
            avgRatingEl.textContent = '0.0';
            avgStarsEl.textContent = 'No ratings yet';
            totalReviewsEl.textContent = '0 reviews';
            return;
          }
          const sum = reviews.reduce((acc,r) => acc + (r.rating||0), 0);
          const avg = sum / reviews.length;
          avgRatingEl.textContent = avg.toFixed(1);
          // show stars rounded to nearest half-star
          const full = Math.round(avg);
          avgStarsEl.textContent = '‚òÖ'.repeat(full) + '‚òÜ'.repeat(5-full);
          totalReviewsEl.textContent = reviews.length + (reviews.length===1 ? ' review' : ' reviews');
        }

        // Render reviews list
        function renderReviewsList() {
          reviewsList.innerHTML = '';
          if (reviews.length === 0) {
            const p = document.createElement('p');
            p.style.color = 'var(--text-light)';
            p.textContent = 'No reviews yet ‚Äî be the first to share your experience!';
            reviewsList.appendChild(p);
            return;
          }
          // show newest first
          const sorted = reviews.slice().sort((a,b) => b.createdAt - a.createdAt);
          sorted.forEach((r, idx) => {
            const item = document.createElement('div');
            item.className = 'review-item';
            const avatar = document.createElement('div');
            avatar.className = 'review-avatar';
            const nameInitial = (r.name && r.name.trim()[0]) ? r.name.trim()[0].toUpperCase() : 'Y';
            avatar.textContent = nameInitial;

            const body = document.createElement('div');
            body.className = 'review-body';

            const meta = document.createElement('div');
            meta.className = 'review-meta';

            const nameEl = document.createElement('div');
            nameEl.className = 'review-name';
            nameEl.textContent = r.name ? r.name : 'Anonymous';

            const starsEl = document.createElement('div');
            starsEl.className = 'review-stars';
            starsEl.innerHTML = '‚òÖ'.repeat(r.rating) + '‚òÜ'.repeat(5 - r.rating);

            meta.appendChild(nameEl);
            meta.appendChild(starsEl);

            const textEl = document.createElement('div');
            textEl.className = 'review-text';
            textEl.style.color = 'var(--text-light)';
            textEl.style.fontSize = '0.95rem';
            textEl.textContent = r.text;

            const meta2 = document.createElement('div');
            meta2.style.display = 'flex';
            meta2.style.justifyContent = 'space-between';
            meta2.style.alignItems = 'center';
            meta2.style.marginTop = '0.55rem';

            const timeEl = document.createElement('div');
            const date = new Date(r.createdAt);
            timeEl.style.fontSize = '0.82rem';
            timeEl.style.color = 'var(--text-light)';
            timeEl.textContent = date.toLocaleString();

            const deleteBtn = document.createElement('button');
            deleteBtn.className = 'delete-review';
            deleteBtn.textContent = 'Delete';
            deleteBtn.title = 'Delete this review';
            deleteBtn.addEventListener('click', () => {
              // remove by createdAt identifier
              reviews = reviews.filter(rr => rr.createdAt !== r.createdAt);
              saveReviews();
              renderReviewsList();
              renderSummary();
            });

            meta2.appendChild(timeEl);
            meta2.appendChild(deleteBtn);

            body.appendChild(meta);
            if (r.text && r.text.trim() !== '') body.appendChild(textEl);
            body.appendChild(meta2);

            item.appendChild(avatar);
            item.appendChild(body);

            reviewsList.appendChild(item);
          });
        }

        // Event handlers: click on star
        stars.forEach(s => {
          s.addEventListener('click', () => {
            selectedRating = +s.dataset.value;
            renderStarInput();
          });
          s.addEventListener('mouseenter', () => {
            const v = +s.dataset.value;
            stars.forEach(st => {
              st.textContent = (+st.dataset.value <= v) ? '‚òÖ' : '‚òÜ';
              st.classList.toggle('active', +st.dataset.value <= v);
            });
          });
          s.addEventListener('mouseleave', () => {
            renderStarInput();
          });
        });

        // Submit review
        submitBtn.addEventListener('click', () => {
          const txt = reviewText.value.trim();
          const name = reviewerName.value.trim();
          if (!selectedRating) {
            alert('Please choose a star rating before submitting.');
            return;
          }
          // create review object
          const review = {
            rating: selectedRating,
            text: txt,
            name: name || '',
            createdAt: Date.now()
          };
          reviews.push(review);
          saveReviews();
          renderReviewsList();
          renderSummary();
          // clear form
          selectedRating = 0;
          renderStarInput();
          reviewText.value = '';
          reviewerName.value = '';
          // small confirmation UI
          submitBtn.textContent = 'Thanks!';
          setTimeout(()=> submitBtn.textContent = 'Submit Review', 1200);
        });

        clearBtn.addEventListener('click', () => {
          selectedRating = 0;
          renderStarInput();
          reviewText.value = '';
          reviewerName.value = '';
        });

        // Init
        function init() {
          loadReviews();
          renderStarInput();
          renderReviewsList();
          renderSummary();
        }

        init();
      })();
    </script>
</body>
</html>
